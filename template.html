<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
body {
  font-family: DejaVuSans;
  font-size: 12px;
  line-height: 1.4;
}

h1 {
  color: #000000;       /* Überschrift schwarz */
}

.message { 
  margin-bottom: 14px; 
  display: block;
}

.date {
  font-size: 8px;       /* kleiner als Haupttext */
  color: #888888;       /* Datum grau */
  display: block;
  margin-bottom: 2px;
}

.sender {
  font-weight: bold;    /* fett */
  margin-left: 4px;
  color: #0055ff;       /* Sender blau */
}

.text { 
  margin-top: 4px; 
  white-space: pre-wrap; /* Zeilenumbrüche/Absätze erhalten */
  display: block;
}
</style>
</head>
<body>
<h1>{{ conversation_label }}</h1>
{% for msg in messages %}
<p class="message">
  <div class="date">
    {{ msg.date }} <span class="sender">{{ msg.sender }}</span>
  </div>
  <div class="text">{{ msg.text }}</div>
  {% if msg.attachment and msg.mime and msg.mime.startswith('image') %}
    <img src="{{ msg.attachment }}" width="100">
  {% elif msg.attachment %}
    <div>[Attachment: {{ msg.attachment_name }}]</div>
  {% endif %}
</p>
{% endfor %}
</body>
</html>
